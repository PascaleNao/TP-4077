{"ast":null,"code":"var _jsxFileName = \"/home/viviane/TP JIOMEKONG/carnet-frontend/carnet-medical-app/src/components/patient/DossierDetails.jsx\";\n// src/components/patient/DossierDetails.jsx\nimport React from 'react';\n\n// Composant pour formater les paires cl√©-valeur\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DetailItem = ({\n  label,\n  value\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    marginBottom: '10px'\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      fontWeight: 'bold',\n      color: 'var(--color-primary)'\n    },\n    children: [label, \" : \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n    children: value || 'N/A'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 5\n}, this);\n_c = DetailItem;\nconst DossierDetails = ({\n  dossier,\n  onDownload\n}) => {\n  if (!dossier) return null;\n  const {\n    patient,\n    dossier_clinique,\n    consultations\n  } = dossier;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-grid\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCCB Informations D\\xE9mographiques\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n        label: \"Nom Pr\\xE9nom\",\n        value: `${patient.nom} ${patient.prenom}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n        label: \"N\\xB0 M\\xE9dical\",\n        value: patient.numero_medical\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n        label: \"Date de Naissance\",\n        value: patient.date_naissance ? new Date(patient.date_naissance).toLocaleDateString() : 'N/A'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD2C Donn\\xE9es Cliniques\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n        label: \"Allergies\",\n        value: dossier_clinique.allergies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n        label: \"Maladies Chroniques\",\n        value: dossier_clinique.maladies_chroniques\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n        label: \"Vaccinations\",\n        value: dossier_clinique.vaccinations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n        label: \"Traitements en Cours\",\n        value: dossier_clinique.traitements_en_cours\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        gridColumn: 'span 2'\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uD83C\\uDFE5 Historique des Consultations (\", consultations.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), consultations.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Aucune consultation enregistr\\xE9e \\xE0 ce jour.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxHeight: '400px',\n          overflowY: 'auto'\n        },\n        children: consultations.map(consultation => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderBottom: '1px solid #EEE',\n            padding: '10px 0',\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: [new Date(consultation.date_consultation).toLocaleDateString(), \" - Dr. \", consultation.medecin_nom, \" \", consultation.medecin_prenom]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n            label: \"Diagnostic\",\n            value: consultation.diagnostic\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n            label: \"Notes\",\n            value: consultation.notes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 33\n          }, this), onDownload && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => onDownload(1, `Rapport-Consultation-${consultation.consultation_id}.pdf`) // Utilisez le VRAI documentId ici\n            ,\n            style: {\n              marginTop: '5px',\n              fontSize: '0.85rem'\n            },\n            children: \"T\\xE9l\\xE9charger Document Associ\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 37\n          }, this)]\n        }, consultation.consultation_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 9\n  }, this);\n};\n_c2 = DossierDetails;\nexport default DossierDetails;\nvar _c, _c2;\n$RefreshReg$(_c, \"DetailItem\");\n$RefreshReg$(_c2, \"DossierDetails\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","DetailItem","label","value","style","marginBottom","children","fontWeight","color","fileName","_jsxFileName","lineNumber","columnNumber","_c","DossierDetails","dossier","onDownload","patient","dossier_clinique","consultations","className","nom","prenom","numero_medical","date_naissance","Date","toLocaleDateString","allergies","maladies_chroniques","vaccinations","traitements_en_cours","gridColumn","length","maxHeight","overflowY","map","consultation","borderBottom","padding","date_consultation","medecin_nom","medecin_prenom","diagnostic","notes","onClick","consultation_id","marginTop","fontSize","_c2","$RefreshReg$"],"sources":["/home/viviane/TP JIOMEKONG/carnet-frontend/carnet-medical-app/src/components/patient/DossierDetails.jsx"],"sourcesContent":["// src/components/patient/DossierDetails.jsx\nimport React from 'react';\n\n// Composant pour formater les paires cl√©-valeur\nconst DetailItem = ({ label, value }) => (\n    <div style={{ marginBottom: '10px' }}>\n        <span style={{ fontWeight: 'bold', color: 'var(--color-primary)' }}>{label} : </span>\n        <span>{value || 'N/A'}</span>\n    </div>\n);\n\nconst DossierDetails = ({ dossier, onDownload }) => {\n    if (!dossier) return null;\n\n    const { patient, dossier_clinique, consultations } = dossier;\n\n    return (\n        <div className=\"dashboard-grid\">\n\n            {/* Colonne 1: Infos Personnelles */}\n            <div className=\"card\">\n                <h3>üìã Informations D√©mographiques</h3>\n                <DetailItem label=\"Nom Pr√©nom\" value={`${patient.nom} ${patient.prenom}`} />\n                <DetailItem label=\"N¬∞ M√©dical\" value={patient.numero_medical} />\n                <DetailItem label=\"Date de Naissance\" value={patient.date_naissance ? new Date(patient.date_naissance).toLocaleDateString() : 'N/A'} />\n            </div>\n\n            {/* Colonne 2: Donn√©es Cliniques */}\n            <div className=\"card\">\n                <h3>üî¨ Donn√©es Cliniques</h3>\n                <DetailItem label=\"Allergies\" value={dossier_clinique.allergies} />\n                <DetailItem label=\"Maladies Chroniques\" value={dossier_clinique.maladies_chroniques} />\n                <DetailItem label=\"Vaccinations\" value={dossier_clinique.vaccinations} />\n                <DetailItem label=\"Traitements en Cours\" value={dossier_clinique.traitements_en_cours} />\n            </div>\n\n            {/* Colonne 3: Historique des Consultations */}\n            <div className=\"card\" style={{ gridColumn: 'span 2' }}> {/* Prend toute la largeur */}\n                <h3>üè• Historique des Consultations ({consultations.length})</h3>\n                {consultations.length === 0 ? (\n                    <p>Aucune consultation enregistr√©e √† ce jour.</p>\n                ) : (\n                    <div style={{ maxHeight: '400px', overflowY: 'auto' }}>\n                        {consultations.map((consultation) => (\n                            <div key={consultation.consultation_id} style={{ borderBottom: '1px solid #EEE', padding: '10px 0', marginBottom: '10px' }}>\n                                <p style={{ fontWeight: 'bold' }}>\n                                    {new Date(consultation.date_consultation).toLocaleDateString()} - Dr. {consultation.medecin_nom} {consultation.medecin_prenom}\n                                </p>\n                                <DetailItem label=\"Diagnostic\" value={consultation.diagnostic} />\n                                <DetailItem label=\"Notes\" value={consultation.notes} />\n                                {/* Logique d'affichage/t√©l√©chargement de document (n√©cessite une requ√™te pour obtenir le document_id) */}\n                                {/* *NOTE* : Pour que le t√©l√©chargement fonctionne, l'API devrait retourner les `document_id` dans la liste de consultations, ce qui n'est pas le cas. Nous simulons ici le lien si l'ID √©tait disponible, en utilisant '1' comme placeholder. */}\n                                {onDownload && (\n                                    <button\n                                        className=\"btn btn-secondary\"\n                                        onClick={() => onDownload(1, `Rapport-Consultation-${consultation.consultation_id}.pdf`)} // Utilisez le VRAI documentId ici\n                                        style={{ marginTop: '5px', fontSize: '0.85rem' }}\n                                    >\n                                        T√©l√©charger Document Associ√©\n                                    </button>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n\n        </div>\n    );\n};\n\nexport default DossierDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}